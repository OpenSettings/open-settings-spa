<div class="px-3">
  <div class="title mb-3">
    <h1>About</h1>
  </div>

  <mat-card>
    <mat-card-header class="mb-2">
      <mat-card-title class="card-title">Application Information</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <table mat-table [dataSource]="appDataSource">
        <ng-container matColumnDef="key">
          <th mat-header-cell *matHeaderCellDef>Attribute</th>
          <td mat-cell *matCellDef="let element" class="font-weight-500 w-50">{{ element.key }}</td>
        </ng-container>

        <ng-container matColumnDef="value">
          <th mat-header-cell *matHeaderCellDef>Value</th>
          <td mat-cell *matCellDef="let element">{{ element.value }}</td>
        </ng-container>

        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card-content>

    <mat-card-actions align="end" *ngIf="releaseNotes.isActive && releaseNotes.url">
      <a mat-button color="primary" [href]="viewReleaseNotes(packVersion)" target="_blank">View Release Notes</a>
    </mat-card-actions>
  </mat-card>

  <mat-card *ngIf="!isProvider" class="mt-3">
    <mat-card-header class="mb-2">
      <mat-card-title class="card-title">Provider Information</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <table mat-table [dataSource]="providerDataSource">
        <ng-container matColumnDef="key">
          <th mat-header-cell *matHeaderCellDef>Attribute</th>
          <td mat-cell *matCellDef="let element" class="font-weight-500 w-50">{{ element.key }}</td>
        </ng-container>

        <ng-container matColumnDef="value">
          <th mat-header-cell *matHeaderCellDef>Value</th>
          <td mat-cell *matCellDef="let element">{{ element.value }}</td>
        </ng-container>

        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card-content>

    <mat-card-actions align="end" *ngIf="releaseNotes.isActive && releaseNotes.url">
      <a mat-button color="primary" [href]="viewReleaseNotes(providerInfo.packVersion)" target="_blank">View Release
        Notes</a>
    </mat-card-actions>
  </mat-card>

  <mat-card class="mt-3">
    <mat-card-header class="mb-2">
      <mat-card-title class="card-title w-100 d-flex">
        <span>License Information</span>
        <span class="spacer"></span>
        <mat-icon matIconPosition="right" fontIcon="info"
          matTooltip="It shows the current license. Only active license will be shown here. If multiple licenses added, the highest edition with the longest expiry date takes precedence."
          matTooltipPosition="below">
        </mat-icon>
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <table mat-table [dataSource]="licenseDataSource">
        <ng-container matColumnDef="key">
          <th mat-header-cell *matHeaderCellDef>Attribute</th>
          <td mat-cell *matCellDef="let element" class="font-weight-500 w-50">{{ element.key }}</td>
        </ng-container>

        <ng-container matColumnDef="value">
          <th mat-header-cell *matHeaderCellDef>Value</th>
          <td mat-cell *matCellDef="let element">{{ element.value }}</td>
        </ng-container>

        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card-content>

    <mat-card-actions align="end">
      <button mat-button color="primary mr-3" (click)="upgradeLicense()">{{license?.edition === 500 ? 'Re-new' : 'Upgrade'}}</button>
      <button mat-button color="warn" (click)="deleteLicense()" *ngIf="license?.referenceId">Delete</button>
    </mat-card-actions>
  </mat-card>

</div>