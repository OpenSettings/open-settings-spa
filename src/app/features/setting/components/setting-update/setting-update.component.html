<div class="d-flex border-bottom">
    <div class="dialog-title">Update > {{data.clientName}}</div>
    <div class="dialog-subtitle">{{data.identifierName}} - {{data.className}}</div>
    <span></span>
    <span class="spacer"></span>
    <button mat-icon-button (click)="toggleFullScreen()"
        [matTooltip]="isFullScreen ? 'Exit full screen' : 'Enter full screen'">
        <mat-icon>{{ isFullScreen ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>
    </button>
    <button mat-icon-button mat-dialog-close>
        <mat-icon>close</mat-icon>
    </button>
</div>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <mat-dialog-content>
        <mat-form-field appearance="fill">
            <mat-label>Class Namespace</mat-label>
            <input matInput formControlName="classNamespace" />
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Class Name</mat-label>
            <input matInput formControlName="className" />
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Class Full Name</mat-label>
            <input matInput formControlName="classFullName" />
        </mat-form-field>

        <div class="d-flex">
            <mat-form-field appearance="fill">
                <mat-label>Computed Identifier</mat-label>
                <input matInput formControlName="computedIdentifier" />
                <mat-icon matSuffix fontIcon="info" matTooltip="A unique GUID is generated by combining the namespace and class name (unless manually assigned a different value). This GUID is used to uniquely identify each setting class."></mat-icon>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Computed Identifier Preview</mat-label>
                <input matInput [value]="computedIdentifierPreview" disabled />
                <button type="button" matSuffix mat-icon-button matTooltip="Copy" matTooltipPosition="below"
                    (click)="copyToClipboard(computedIdentifierPreview)" [disabled]="!computedIdentifierPreview" *ngIf="isConnectionSecure">
                    <mat-icon>content_copy</mat-icon>
                </button>
            </mat-form-field>
        </div>

        <mat-form-field appearance="fill" >
            <mat-label>Registration Mode <mat-icon class="icon-mini" matIconPosition="right" fontIcon="info"
                matTooltip="Defines how the setting is registered in dependency injection, allowing resolution through configuration options or as a singleton service."></mat-icon></mat-label>
            <mat-select formControlName="registrationMode">
                <mat-option class="custom-option" [value]="1">
                    <span>Configure</span>
                    <span class="spacer"></span>
                    <button color="accent" mat-icon-button matTooltipPosition="left" matTooltip="Setting can be resolved through configuration options interfaces, such as IOptions<T>, IOptionsSnapshot<T> and IOptionsMonitor<T>.">
                        <mat-icon matIconPosition="right" fontIcon="info"></mat-icon>
                    </button>
                </mat-option>
                <mat-option class="custom-option" [value]="2">
                    <span>Singleton</span>
                    <span class="spacer"></span>
                    <button color="accent" mat-icon-button matTooltipPosition="left" matTooltip="Setting can be resolved directly through its own class as a singleton instance.">
                        <mat-icon matIconPosition="right" fontIcon="info"></mat-icon>
                    </button>
                </mat-option>
                <mat-option class="custom-option" [value]="3">
                    <span>Both</span>
                    <span class="spacer"></span>
                    <button color="accent" mat-icon-button matTooltipPosition="left" matTooltip="Setting can be resolved both through singleton instances and through configuration options interfaces.">
                        <mat-icon matIconPosition="right" fontIcon="info"></mat-icon>
                    </button>
                </mat-option>
            </mat-select>
          </mat-form-field>

          <div class="d-flex px-3">
            <div class="mb-2 mr-3 d-flex align-items-center">
                <span class="field-label-text"> Data Validation</span>
                <mat-icon class="icon-mini" matIconPosition="right" fontIcon="info" matTooltip="If enabled, it checks if class properties match the required type or are bindable during data changes."></mat-icon>
                <mat-slide-toggle labelPosition="before" formControlName="isDataValidationEnabled"></mat-slide-toggle>
            </div>
            <div class="mb-2 mr-3 d-flex align-items-center">
                <span class="field-label-text">Store In Separate File</span>
                <mat-icon class="icon-mini" matIconPosition="right" fontIcon="info" [matTooltip]="'Indicates whether the setting should be stored in a separate file \'settings-generated.' + form.get('className')?.value + '.json\'. If not, it will be stored in the default \'settings-generated.json\' file.'"></mat-icon>
                <mat-slide-toggle labelPosition="before" formControlName="storeInSeparateFile"></mat-slide-toggle>
            </div>
            <div class="mb-2 d-flex align-items-center" *ngIf="this.form.get('storeInSeparateFile')?.value">
                <span class="field-label-text">Ignore On File Change</span>
                <mat-icon class="icon-mini" matIconPosition="right" fontIcon="info"  matTooltip="Indicates whether changes to the file should be ignored when the file is modified."></mat-icon>
                <mat-slide-toggle labelPosition="before" formControlName="ignoreOnFileChange"></mat-slide-toggle>
            </div>
          </div>

        <!-- <div class="d-flex">
            <mat-slide-toggle labelPosition="before" formControlName="isDataValidationEnabled" class="mb-2 mr-3">
                Data Validation
                <mat-icon class="icon-mini" matIconPosition="right" fontIcon="info" matTooltip="If enabled, it checks if class properties match the required type or are bindable during data changes."></mat-icon>
            </mat-slide-toggle>
            <mat-slide-toggle labelPosition="before"
                formControlName="storeInSeparateFile" class="mb-2 mr-3">
                Store In Separate File
                <mat-icon class="icon-mini" matIconPosition="right" fontIcon="info" [matTooltip]="'Indicates whether the setting should be stored in a separate file \'settings-generated.' + form.get('className')?.value + '.json\'. If not, it will be stored in the default \'settings-generated.json\' file. Changes require a restart.'"></mat-icon>
            </mat-slide-toggle>
            <mat-slide-toggle labelPosition="before"formControlName="ignoreOnFileChange" class="mb-2" *ngIf="this.form.get('storeInSeparateFile')?.value">
                Ignore On File Change
                <mat-icon class="icon-mini" matIconPosition="right" fontIcon="info"  matTooltip="Indicates whether changes to the file should be ignored when the file is modified. Changes require a restart."></mat-icon>
            </mat-slide-toggle>
        </div> -->
    </mat-dialog-content>
    <mat-dialog-actions>
        <button class="ml-3" mat-raised-button color="primary" [disabled]="form.invalid">
            Save
        </button>
    </mat-dialog-actions>
</form>